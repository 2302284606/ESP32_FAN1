**AHT20 的 I2C 接线：**

	1. **VCC** → 接 ESP32 的 3.3V
	2. **GND** → 接 ESP32 的 GND
	3. **SCL** → 接 ESP32 的 D22（默认 I2C 时钟线）
	4. **SDA** → 接 ESP32 的 D21（默认 I2C 数据线）


#### **TB6612FNG 电机驱动模块引脚定义：**
7. **STBY** → 接 ESP32 接地 低电平启用  必须是GPIO的GND
1. **VCC** →  ESP32 的 3.3V 
2. **VM** → 5V
3. **GND** → 接 ESP32 和电机电源的地线
4. **AIN1** → 接 ESP32 的 D25
5. **AIN2** → 接 ESP32 的 D26
6. **PWMA** → 接 ESP32 的 GPIO27（用于控制电机 A 的 PWM）
9. **AO1, AO2** → 接到电机 A 的两端 一定要接

STBY是低电平启用


OLED连接：

- VCC → ESP32 3.3V

- GND → ESP32 GND

- SCL → GPIO22        我的这个OLED是 SCK接D22

- SDA → GPIO21



**su03t 和ESP32 接线

**B6 接 D17         B6是RX  接 D17  TX
B7 接 D16


SU03T 和  CH340 接线
TX 接 RX
RX 接 TX



原理图 su03t
RX 接 D17
TX 接 D16




**旋转编码器

- VCC:连接到 ESP32 的3.3V 引脚。

- GND: 连接到 ESP32 的 GND引脚。

- A (CLK):连接到 ESP32 GPIO 32

- B (DT): 连接到 ESP32 GPIO 33

- C(SW): 使用按键功能，连接到 ESP32  GPIO 34





### BH1750接线方案：

1. VCC → ESP32的3.3V

- GND → ESP32的GND

- SDA → GPIO4 (I2C_SDA)

4. SCL → GPIO5 (I2C_SCL)

5. ADDR → GND (设置I2C地址为0x23)

统一了MQTT主题名称，确保与app.js中的订阅主题完全匹配
MQTT 连接信息
连接地址：
s1202e81.ala.cn-hangzhou.emqxsl.cn
MQTT over TLS/SSL 端口：
8883
WebSocket over TLS/SSL 端口：
8084

username = 'emqx'
password = 'linjiajun1'
const char* status_topic = "liuxing23i/fan";          // 发布状态的主题
const char* control_topic = "liuxing23i/fan/control"; // 订阅控制命令的主题
const char* ui_update_topic = "$sys/Fiw8h1D03X/d1/thing/property/set";  // 订阅UI更新主题



语音指令     语音控制模块  串口数据   
打开风扇 ——> SU03T ——>    发送 A1  ——>  ESP32 ——> 打开风扇
关闭风扇 ——> SU03T ——>    发送 A2  ——>  ESP32 ——> 关闭风扇
风速提高 ——> SU03T ——>    发送 B1  ——>  ESP32 ——> 风速提高25%
风速降低 ——> SU03T ——>    发送 B2  ——>  ESP32 ——> 风速降低25%
开灯 ——> SU03T ——>    发送 C1  ——>  ESP32 ——> 开灯
关灯 ——> SU03T ——>    发送 C2  ——>  ESP32 ——> 关灯

串口数据验证:AA 55 A1 55 AA     有效数据是A1  其余是帧头帧尾
波特率是115200


2.19日
把SU03T 和  CH340 的接线 重新接了一下
智能公元生成了新的SDK  描述为 2月19日

尝试 把HTML 用 react-app 重写实现


但是发现需要确保你的系统已安装了 Node.js 和 npm
share> Write-Host "Node.js 安装位置:"
Node.js 安装位置:
share> Get-Command node | Select-Object Source

Source
------
C:\Program Files\nodejs\node.exe


share>
share> Write-Host "npm 安装位置:"
npm 安装位置:
share> Get-Command npm.cmd | Select-Object Source

决定 先直接使用html 后面有余力再用 raect-app 重写



2.21日

在增加ESP32 预测功能
控制逻辑流程：
手动控制模式：
用户可以直接使用开关和滑块控制风扇
这些控制不受预测模式影响
预测控制模式：
用户选择预测模式（关闭/实时/手动输入）
如果选择手动输入：
1. 输入环境参数
点击"开始预测"
ESP32返回预测结果
用户可以选择"应用设置"或"取消"
如果选择实时预测：
ESP32每5分钟自动预测一次
自动应用预测结果
优先级处理：
手动控制可以随时覆盖预测结果
预测结果应用后可以被手动控制覆盖
实时预测模式下，每5分钟的预测会覆盖当前设置



要不要 直接将电脑的预测结果  直接应用到风扇控制
没必要 直接用网页进行预测就OK了

将模型转换为TFLite格式
重新生成model_data.h

预测时间间隔是优先考虑稳定性，保持 5 分钟不变。


MQTT 连接信息
连接地址：
s1202e81.ala.cn-hangzhou.emqxsl.cn
MQTT over TLS/SSL 端口：
8883
WebSocket over TLS/SSL 端口：
8084

username = 'emqx'
password = 'linjiajun1'
const char* status_topic = "liuxing23i/fan";          // 发布状态的主题
const char* control_topic = "liuxing23i/fan/control"; // 订阅控制命令的主题
const char* ui_update_topic = "$sys/Fiw8h1D03X/d1/thing/property/set";  // 订阅UI更新主题


ESP32-WROOM-32 (U1): 30针（两排，每排15针），间距2.54mm
AHT20 (U2): 4针，间距2.54mm
TB6612FNG (U3): 16针（两排，每排8针），间距2.54mm
SU03T (U4): 10针，间距2.54mm（如果这是标准配置）
BH1750 (U5): 5针，间距2.54mm
OLED显示屏 (U8): 4针，间距2.54mm
开关 (SW1): 2针，间距2.54mm